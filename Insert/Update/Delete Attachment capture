On Insert Async BR on sys_attachment table.


Condition : - gs.getSession().isInteractive()


var attach_obj = new GlideRecord('u_replicate_incident');
attach_obj.addQuery('sys_id',current.table_sys_id);
attach_obj.query();

if(attach_obj.next()){
attach_obj.u_worknotes = "Inserted File Name " + current.file_name + " is attached by " + gs.getUserDisplayName();
		attach_obj.update();
	}



On Update After BR on sys_attachment table.

Filter Condition : - FileName Changes 

Condition : - current.file_name!=previous.file_name

var attach_obj = new GlideRecord('u_replicate_incident');
	 attach_obj.addQuery('sys_id',current.table_sys_id);
	 attach_obj.query();
	
	 if(attach_obj.next()){
		 attach_obj.u_worknotes = "The file name " + previous.file_name + " has been renamed to " + current.file_name + " by " + gs.getUserDisplayName();
		 attach_obj.update();
	 }
